<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Ruthiee!</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        cursive: ['Great Vibes', 'cursive'],
                    },
                    colors: {
                        'brand-text': '#4f1624',
                        'brand-pink': '#fecdd3',
                        'brand-red': '#be123c',
                    }
                }
            }
        }
    </script>

    <style>
        /* ============ GLOBAL & BACKGROUND ============ */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            /* Prevent horizontal scroll, allow vertical */
            overflow-x: hidden; 
            font-family: 'Inter', sans-serif;
            /* Soft Peach-Pink Gradient Background */
            background: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);
            transition: background 1.5s ease;
        }

        /* ============ PHASE 1: INTRO INTERFACE ============ */
        #intro-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            transition: opacity 0.8s ease;
        }

        .glass-box {
            background: rgba(255, 255, 255, 0.7);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            text-align: center;
            max-width: 90%;
            width: 450px;
            position: relative; 
        }

        #intro-title {
            font-family: 'Great Vibes', cursive;
            font-size: 3.5rem;
            color: #be123c;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        #intro-question {
            font-size: 1.2rem;
            color: #4a2c20;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        /* BUTTON GROUP */
        .btn-group {
            display: flex;           
            justify-content: center; 
            align-items: center;
            gap: 20px;               
            margin-top: 10px;
            min-height: 60px; 
        }

        .btn-intro {
            padding: 12px 35px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            outline: none;
            z-index: 100;
        }

        #yes-btn {
            background: #be123c;
            color: white;
            box-shadow: 0 4px 15px rgba(190, 18, 60, 0.4);
            transition: transform 0.2s ease;
        }

        #yes-btn:hover {
            transform: scale(1.1);
            background: #9f1239;
        }

        #no-btn {
            background: #fff;
            color: #be123c;
            border: 2px solid #be123c;
            transition: top 0.1s ease, left 0.1s ease; 
            position: relative; 
        }

        /* ============ PHASE 1: TREE ANIMATION ============ */
        #canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none; 
        }

        #tree-message {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 5;
            opacity: 0;
            transition: opacity 2s ease;
            width: 90%;
        }

        #tree-message h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: #d6336c; 
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.8);
            margin: 0;
        }

        #tree-message p {
            font-family: 'Great Vibes', cursive;
            font-size: 2rem;
            color: #862e42;
            margin-top: 5px;
        }

        #open-gift-btn {
            margin-top: 25px;
            padding: 12px 35px;
            font-family: 'Inter', sans-serif;
            font-weight: bold;
            font-size: 1.1rem;
            color: #fff;
            background: #be123c;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(190, 18, 60, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
            pointer-events: auto;
        }

        #open-gift-btn:hover {
            transform: translateY(20px) scale(1.05);
            background: #9f1239;
        }

        /* Phase 1 Floating Hearts */
        .floating-heart {
            position: absolute;
            bottom: -50px;
            color: #d6336c;
            font-size: 20px;
            animation: floatUpPhase1 6s linear forwards;
            opacity: 0.7;
            pointer-events: none;
            z-index: 2;
        }

        @keyframes floatUpPhase1 {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(-800px) rotate(360deg); opacity: 0; }
        }

        /* Phase 2 Floating Hearts (Fixed Position) */
        .phase2-heart {
            position: fixed; /* Ensures they stay visible while scrolling */
            bottom: -10vh;
            font-size: 25px;
            z-index: 25; /* Sits above the white container background */
            pointer-events: none; /* Allows clicking through them */
            animation: floatUpPhase2 10s linear forwards;
            opacity: 0.6;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }

        @keyframes floatUpPhase2 {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }

        /* ============ PHASE 2: CAKE & LETTER ============ */
        #phase-2-container {
            display: none;
            opacity: 0;
            transition: opacity 1.5s ease-in;
            position: relative;
            z-index: 20;
            /* Slightly more transparent to let hearts shine through if z-index is lower, 
               but hearts are z-25 so they float on top nicely */
            background: rgba(255, 247, 248, 0.95);
            min-height: 100vh;
            padding-bottom: 50px;
        }

        /* CAKE ANIMATION */
        .cake-wrapper {
            animation: fadeIn 1.8s ease-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            0% {opacity: 0; transform: translateY(40px);}
            100% {opacity: 1; transform: translateY(0);}
        }
        .cake {
            position: relative;
            width: 200px;
            height: 180px;
            animation: bounce 2s infinite ease-in-out;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .plate {
            width: 260px; height: 30px; background: #ffe4ea;
            border-radius: 50%; position: absolute; bottom: -20px; left: -30px;
            z-index: -1; box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        .layer {
            position: absolute; width: 200px; height: 45px; left: 0; border-radius: 10px;
        }
        .layer-bottom { bottom: 0; background: #ff8fab; }
        .layer-middle { bottom: 45px; background: #ffb3c6; }
        .layer-top { bottom: 90px; background: #ffc2d1; }
        .layer-top::before {
            content: ""; position: absolute; width: 200px; height: 25px; top: 25px; left: 0;
            background: #ffe5ec; border-radius: 0 0 10px 10px;
            clip-path: polygon(0 0, 100% 0, 100% 60%, 75% 70%, 60% 55%, 40% 75%, 25% 55%, 0 70%);
        }
        .candle {
            position: absolute; width: 18px; height: 60px; background: white;
            border-radius: 5px; top: -60px; left: 50%; transform: translateX(-50%);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
        }
        .flame {
            width: 20px; height: 28px;
            background: radial-gradient(circle, #ffea00 40%, #ff9100 60%, #ff3d00 80%);
            border-radius: 50%; position: absolute; top: -25px; left: 50%;
            transform: translateX(-50%); animation: flicker 0.15s infinite alternate;
            filter: drop-shadow(0 0 8px #ff6a00);
        }
        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); }
            100% { transform: translateX(-50%) scale(1.15); }
        }
    </style>
</head>

<body class="text-brand-text">

    <!-- ================= PHASE 1: CREATIVE INTRO & TREE ================= -->
    
    <!-- 1. The Question Interface -->
    <div id="intro-container">
        <div class="glass-box">
            <h1 id="intro-title">Hey Ruthiee!</h1>
            <p id="intro-question">I have a question before you see your surprise...<br><strong>Do you love me?</strong></p>
            
            <div class="btn-group">
                <button id="yes-btn" class="btn-intro" onclick="startSurprise()">YES ‚ù§Ô∏è</button>
                <button id="no-btn" class="btn-intro" onmouseover="moveButton()" ontouchstart="moveButton()" onclick="moveButton(); return false;">NO</button>
            </div>
        </div>
    </div>

    <!-- 2. The Tree Animation Layer -->
    <div id="phase-1-content" class="relative w-full h-full">
        <!-- Message that appears after tree grows -->
        <div id="tree-message">
            <h1>Happy Birthday Ruthiee!</h1>
            <p>I Love you My dear.</p>
            <button id="open-gift-btn" onclick="goToPhase2()">Open Your Gift üéÅ</button>
        </div>
        <canvas id="canvas"></canvas>
    </div>

    <!-- ================= PHASE 2: MAIN CONTENT (Cake/Letter) ================= -->
    <div id="phase-2-container">
        <div class="container mx-auto max-w-4xl p-5 md:p-10 relative z-30">

            <header class="text-center my-12 md:my-20">
                <h1 class="font-cursive text-brand-red text-7xl md:text-9xl">Happy Birthday, Ruthuu!</h1>
            </header>

            <!-- BIG CAKE ANIMATION -->
            <div class="cake-wrapper my-12 flex justify-center">
                <div class="cake">
                    <div class="plate"></div>
                    <div class="layer layer-bottom"></div>
                    <div class="layer layer-middle"></div>
                    <div class="layer layer-top"></div>
                    <div class="candle">
                        <div class="flame"></div>
                    </div>
                </div>
            </div>

            <!-- LETTER -->
            <section class="bg-white p-6 md:p-10 rounded-lg shadow-xl my-10 border border-pink-100 relative">
                <h2 class="font-cursive text-brand-red text-5xl md:text-6xl mb-6">For My Pyaaru...</h2>

                <div class="font-sans text-lg text-gray-800 space-y-4 leading-relaxed">
                    <p>To,</p>
                    <p>My cute Baby.</p>
                    <p>Mera pyaaru,Ek saal pehle isi din main Dhruv ke gaon me tha, Gujarat me, Raat me soch raha tha ki kab 12 bajega aur kab main tujhe wish karu, usi bahane toda baat bhi ho jati krke soch rha tahüòö . Subah hote hi hum beach pe gaye the, aur maine tujhe call kiya. Fir mujhe laga ki tujhe bolu ki ek din main tujhe bhi yahan le aunga, hum dono saath me mast ghoomenge. Lekin tab utni expectations nahi thi‚Ä¶ hope hi thi, lekin ek chotu si hope se kya hi hota hai üòÇ.....abhi ye ho gyaa. üòö</p>
                    <p>Maine kabhi nahi socha tha ki ek saal baad main apni pyaari baby ke saath, itna paas rehkar (boyfriend banke üòöüòó) birthday celebrate karunga.
                    Aur baby, main tere har birthday par tere saath rahunga, har saal kuch naya karke enjoy karenge bale hi future me door rhe lekin me tere liye aunga va kahi bhi ho iss duniya main . Me aa jaunga ü§ó</p>
                    <p>Enjoy your day, my love.</p>
                    <p>Aur aaj aapka bachu poora din aapke saath hi rahega aur hr baat manegaüòö</p>

                    <p class="text-right mt-6 font-bold">
                        With all my love,<br>
                        Tera Bachu....
                    </p>
                </div>
            </section>

           <section class="my-16 relative">
                <h2 class="font-cursive text-brand-red text-center text-6xl mb-10">
                    Beautiful Memories ‚ù§Ô∏è
                </h2>

                <div class="space-y-16">

                    <!-- CHILDHOOD SECTION -->
                    <div>
                        <h3 class="text-center text-3xl font-bold mb-6 text-brand-text">Cute Child‚ù§Ô∏è</h3>

                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <!-- Replaced src with placeholders to avoid broken images if local files missing -->
                                <img src="child1.jpeg" alt="Child Photo 1" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Cute+Baby';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="child2.jpeg" alt="Child Photo 2" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Cute+Baby';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="child3.jpeg" alt="Child Photo 3" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Cute+Baby';">
                            </div>
                        </div>
                    </div>

                    <!-- FAMILY SECTION -->
                    <div>
                        <h3 class="text-center text-3xl font-bold mb-6 text-brand-text">Family</h3>

                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="family1.jpeg" alt="Family Photo 1" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Family';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="family2.jpeg" alt="Family Photo 2" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Family';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="family3.jpeg" alt="Family Photo 3" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Family';">
                            </div>
                        </div>
                    </div>

                    <!-- ME & YOU SECTION -->
                    <div>
                        <h3 class="text-center text-3xl font-bold mb-6 text-brand-text">Me & You ‚ù§Ô∏è</h3>

                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="us1.jpeg" alt="Us Photo 1" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Love';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="us2.jpeg" alt="Us Photo 2" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Love';">
                            </div>
                            <div class="overflow-hidden rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 bg-pink-100 h-64 flex items-center justify-center">
                                <img src="us3.jpeg" alt="Us Photo 3" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/pink/white?text=Love';">
                            </div>
                        </div>
                    </div>

                </div>
            </section>
        </div>
    </div>

    <script>
        /*************************************************
         * 1. INTRO: RUNAWAY "NO" BUTTON
         *************************************************/
        function moveButton() {
            const noBtn = document.getElementById('no-btn');
            
            if (noBtn.style.position !== 'absolute') {
                noBtn.style.position = 'absolute';
            }
            
            const maxX = window.innerWidth - noBtn.offsetWidth - 20;
            const maxY = window.innerHeight - noBtn.offsetHeight - 20;
            
            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;
            
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
        }

        /*************************************************
         * 2. PHASE 1: TREE LOGIC
         *************************************************/
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const introContainer = document.getElementById('intro-container');
        const treeMessage = document.getElementById('tree-message');
        const openGiftBtn = document.getElementById('open-gift-btn');
        
        let heartInterval; // For Phase 1

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const config = {
            maxLevel: 10,
            branchWidth: 12,
            colorTrunk: '#5c4033',
            colorLeaves: ['#ff0a54', '#ff477e', '#ff7096', '#ff85a1', '#fbb1bd'],
            growSpeed: 30
        };

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        function startSurprise() {
            introContainer.style.opacity = '0';
            setTimeout(() => {
                introContainer.style.display = 'none';
            }, 800);

            // Start Tree
            drawBranch(canvas.width / 2, canvas.height, 120, 0, config.branchWidth, 0);

            // Start Phase 1 Floating Hearts
            heartInterval = setInterval(createPhase1Heart, 400);
        }

        function drawBranch(startX, startY, len, angle, width, level) {
            const endX = startX + (len * Math.sin(angle * Math.PI / 180));
            const endY = startY - (len * Math.cos(angle * Math.PI / 180));

            setTimeout(() => {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.lineWidth = width;
                ctx.strokeStyle = config.colorTrunk;
                ctx.lineCap = 'round';
                ctx.stroke();

                if (level < config.maxLevel) {
                    const subAngle1 = angle + Math.random() * 20 + 10;
                    const subAngle2 = angle - Math.random() * 20 - 10;
                    const subLen = len * 0.8;
                    const subWidth = width * 0.7;

                    drawBranch(endX, endY, subLen, subAngle1, subWidth, level + 1);
                    drawBranch(endX, endY, subLen, subAngle2, subWidth, level + 1);
                } else {
                    drawFlower(endX, endY);
                    if (!treeMessage.style.opacity || treeMessage.style.opacity == "0") {
                        setTimeout(() => {
                            treeMessage.style.opacity = '1';
                            setTimeout(() => {
                                openGiftBtn.style.opacity = '1';
                                openGiftBtn.style.transform = 'translateY(0)';
                            }, 1000);
                        }, 2000);
                    }
                }
            }, config.growSpeed * level + Math.random() * 200);
        }

        function drawFlower(x, y) {
            setTimeout(() => {
                const size = Math.random() * 6 + 4;
                const color = config.colorLeaves[Math.floor(Math.random() * config.colorLeaves.length)];
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fillStyle = color;
                ctx.shadowColor = 'rgba(0,0,0,0.1)';
                ctx.shadowBlur = 5;
                ctx.fill();
            }, 100);
        }

        function createPhase1Heart() {
            const heart = document.createElement("div");
            heart.classList.add("floating-heart");
            heart.innerHTML = "‚ù§Ô∏è";
            heart.style.left = Math.random() * window.innerWidth + "px";
            const colors = ["#d6336c", "#c2255c", "#ff6b6b", "#f06595"];
            heart.style.color = colors[Math.floor(Math.random() * colors.length)];
            heart.style.fontSize = (15 + Math.random() * 25) + "px";
            heart.style.animationDuration = (4 + Math.random() * 4) + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }

        /*************************************************
         * 3. TRANSITION TO PHASE 2 (AND NEW HEARTS)
         *************************************************/
        function goToPhase2() {
            const p1 = document.getElementById('phase-1-content');
            
            // Fade out old stuff
            canvas.style.transition = "opacity 1s ease";
            canvas.style.opacity = "0";
            treeMessage.style.transition = "opacity 1s ease";
            treeMessage.style.opacity = "0";

            clearInterval(heartInterval); // Stop Phase 1 hearts

            setTimeout(() => {
                p1.style.display = 'none';
                canvas.style.display = 'none';

                const p2 = document.getElementById('phase-2-container');
                p2.style.display = 'block';
                void p2.offsetWidth; 
                p2.style.opacity = '1';
                
                // START PHASE 2 BACKGROUND HEARTS
                setInterval(createPhase2Heart, 500); 

            }, 1000);
        }

        function createPhase2Heart() {
            const heart = document.createElement("div");
            heart.classList.add("phase2-heart");
            heart.innerHTML = Math.random() > 0.5 ? "‚ù§Ô∏è" : "üíñ";
            
            // Random horizontal position
            heart.style.left = Math.random() * 100 + "vw";
            
            // Random size variation
            heart.style.fontSize = (20 + Math.random() * 20) + "px";
            
            // Random speed
            heart.style.animationDuration = (8 + Math.random() * 5) + "s";
            
            document.body.appendChild(heart);
            
            // Remove after animation to prevent memory leaks
            setTimeout(() => {
                heart.remove();
            }, 13000);
        }
    </script>

</body>
</html>